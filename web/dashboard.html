<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Monitor Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .gradient-bg-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .gradient-bg-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .card-hover {
            transition: all 0.3s ease-in-out;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
            animation: pulse 2s infinite;
        }
        .status-online { background-color: #10b981; }
        .status-offline { background-color: #ef4444; }
        .status-warning { background-color: #f59e0b; }
        .status-error { background-color: #dc2626; }
        .status-maintenance { background-color: #6b7280; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .metric-chart {
            height: 200px;
        }
        
        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        
        .sidebar.hidden {
            transform: translateX(-100%);
        }
        
        .main-content {
            transition: margin-left 0.3s ease-in-out;
        }
        
        .main-content.expanded {
            margin-left: 0;
        }
        
        .alert-critical { border-left: 4px solid #dc2626; }
        .alert-warning { border-left: 4px solid #f59e0b; }
        .alert-info { border-left: 4px solid #3b82f6; }
        
        .performance-good { color: #10b981; }
        .performance-warning { color: #f59e0b; }
        .performance-critical { color: #ef4444; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // API Configuration
        const API_BASE_URL = 'http://localhost:8000/api/v1';

        // Main Dashboard Component
        const Dashboard = () => {
            const [currentView, setCurrentView] = useState('overview');
            const [sidebarCollapsed, setSidebarCollapsed] = useState(false);
            const [agents, setAgents] = useState([]);
            const [selectedAgent, setSelectedAgent] = useState(null);
            const [systemStats, setSystemStats] = useState({
                totalAgents: 0,
                onlineAgents: 0,
                offlineAgents: 0,
                errorAgents: 0,
                maintenanceAgents: 0,
                avgResponseTime: 0,
                systemHealth: 95,
                totalRequests: 0
            });
            const [alerts, setAlerts] = useState([]);
            const [metrics, setMetrics] = useState({
                cpuUsage: [],
                memoryUsage: [],
                responseTime: [],
                errorRate: []
            });
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [lastUpdate, setLastUpdate] = useState(new Date());

            // API Configuration
            const API_BASE_URL = 'http://localhost:8000/api/v1';

            // Fetch agents from API
            const fetchAgents = async () => {
                try {
                    const response = await axios.get(`${API_BASE_URL}/agents`);
                    console.log('API Response:', response.data);
                    
                    // Handle different response formats
                    let agentsData = [];
                    if (response.data.agents) {
                        agentsData = response.data.agents;
                    } else if (Array.isArray(response.data)) {
                        agentsData = response.data;
                    } else {
                        console.warn('Unexpected API response format:', response.data);
                        agentsData = [];
                    }
                    
                    // Add mock performance metrics for display (until metrics API is implemented)
                    const enrichedAgents = agentsData.map(agent => ({
                        ...agent,
                        cpu_usage: Math.floor(Math.random() * 100),
                        memory_usage: Math.floor(Math.random() * 100),
                        response_time: Math.floor(Math.random() * 1000) + 100,
                        requests_per_minute: Math.floor(Math.random() * 1000) + 100,
                        error_rate: Math.random() * 0.1
                    }));
                    
                    setAgents(enrichedAgents);
                    
                    // Calculate system stats from real data
                    const stats = {
                        totalAgents: enrichedAgents.length,
                        onlineAgents: enrichedAgents.filter(a => a.status === 'ONLINE').length,
                        offlineAgents: enrichedAgents.filter(a => a.status === 'OFFLINE').length,
                        errorAgents: enrichedAgents.filter(a => a.status === 'ERROR').length,
                        maintenanceAgents: enrichedAgents.filter(a => a.status === 'MAINTENANCE').length,
                        avgResponseTime: enrichedAgents.length > 0 ? 
                            Math.round(enrichedAgents.reduce((sum, a) => sum + a.response_time, 0) / enrichedAgents.length) : 0,
                        systemHealth: 95,
                        totalRequests: enrichedAgents.reduce((sum, a) => sum + a.requests_per_minute, 0)
                    };
                    setSystemStats(stats);
                    
                    return enrichedAgents;
                } catch (error) {
                    console.error('Failed to fetch agents:', error);
                    setError(`Failed to fetch agents: ${error.message}`);
                    return [];
                }
            };

            // Fetch alerts (mock for now, until alerts API is implemented)
            const fetchAlerts = async () => {
                try {
                    // Mock alerts for demonstration - replace with real API call when available
                    const mockAlerts = [
                        {
                            id: "alert-001",
                            severity: "warning",
                            title: "Dashboard Connected",
                            description: "Dashboard successfully connected to PostgreSQL database",
                            agent_id: "system",
                            timestamp: new Date().toISOString(),
                            status: "active"
                        }
                    ];
                    setAlerts(mockAlerts);
                } catch (error) {
                    console.error('Failed to fetch alerts:', error);
                }
            };

            // Main fetch function
            const fetchData = async () => {
                setLoading(true);
                setError(null);
                
                try {
                    await Promise.all([
                        fetchAgents(),
                        fetchAlerts()
                    ]);
                } catch (error) {
                    setError('Failed to fetch dashboard data');
                    console.error('Error fetching data:', error);
                }
                
                setLoading(false);
                setLastUpdate(new Date());
            };

            // Auto-refresh
            useEffect(() => {
                fetchData();
                const interval = setInterval(fetchData, 30000); // Refresh every 30 seconds
                return () => clearInterval(interval);
            }, []);

            // Sidebar Component
            const Sidebar = () => {
                const menuItems = [
                    { id: 'overview', icon: 'fas fa-chart-line', label: 'Overview', badge: null },
                    { id: 'agents', icon: 'fas fa-robot', label: 'Agents', badge: systemStats.totalAgents },
                    { id: 'metrics', icon: 'fas fa-chart-bar', label: 'Metrics', badge: null },
                    { id: 'alerts', icon: 'fas fa-exclamation-triangle', label: 'Alerts', badge: alerts.filter(a => a.status === 'active').length },
                    { id: 'logs', icon: 'fas fa-file-alt', label: 'Logs', badge: null },
                    { id: 'settings', icon: 'fas fa-cog', label: 'Settings', badge: null }
                ];

                return (
                    <div className={`fixed left-0 top-0 h-full bg-white shadow-lg z-30 transition-transform duration-300 ${sidebarCollapsed ? '-translate-x-full' : 'translate-x-0'}`} style={{width: '280px'}}>
                        <div className="p-6 border-b">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center">
                                    <i className="fas fa-chart-line text-2xl text-blue-600 mr-3"></i>
                                    <h2 className="text-xl font-bold text-gray-800">Agent Monitor</h2>
                                </div>
                                <button 
                                    onClick={() => setSidebarCollapsed(true)}
                                    className="lg:hidden text-gray-500 hover:text-gray-700"
                                >
                                    <i className="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        
                        <nav className="p-4">
                            {menuItems.map(item => (
                                <button
                                    key={item.id}
                                    onClick={() => setCurrentView(item.id)}
                                    className={`w-full flex items-center justify-between p-3 mb-2 rounded-lg transition-colors ${
                                        currentView === item.id 
                                            ? 'bg-blue-50 text-blue-600 border-l-4 border-blue-600' 
                                            : 'text-gray-600 hover:bg-gray-50'
                                    }`}
                                >
                                    <div className="flex items-center">
                                        <i className={`${item.icon} mr-3`}></i>
                                        <span>{item.label}</span>
                                    </div>
                                    {item.badge && (
                                        <span className="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">
                                            {item.badge}
                                        </span>
                                    )}
                                </button>
                            ))}
                        </nav>
                    </div>
                );
            };

            // Header Component
            const Header = () => (
                <header className="bg-white shadow-sm border-b p-4 flex items-center justify-between">
                    <div className="flex items-center">
                        <button 
                            onClick={() => setSidebarCollapsed(!sidebarCollapsed)}
                            className="mr-4 p-2 rounded-lg hover:bg-gray-100"
                        >
                            <i className="fas fa-bars text-gray-600"></i>
                        </button>
                        <h1 className="text-2xl font-bold text-gray-800 capitalize">{currentView}</h1>
                    </div>
                    
                    <div className="flex items-center space-x-4">
                        <div className="text-sm text-gray-500">
                            Last updated: {lastUpdate.toLocaleTimeString()}
                        </div>
                        <div className="flex items-center space-x-2">
                            <div className="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                            <span className="text-sm text-gray-600">Live</span>
                        </div>
                        <button className="p-2 rounded-lg hover:bg-gray-100">
                            <i className="fas fa-sync text-gray-600"></i>
                        </button>
                    </div>
                </header>
            );

            // Status indicator component
            const StatusIndicator = ({ status }) => {
                const statusClass = `status-indicator status-${status.toLowerCase()}`;
                return <span className={statusClass}></span>;
            };

            // Stats card component
            const StatsCard = ({ title, value, icon, color, description, trend }) => (
                <div className="bg-white rounded-xl shadow-sm p-6 card-hover border border-gray-100">
                    <div className="flex items-center justify-between mb-4">
                        <div className={`text-3xl ${color}`}>
                            <i className={icon}></i>
                        </div>
                        {trend && (
                            <div className={`flex items-center text-sm ${trend > 0 ? 'text-green-600' : 'text-red-600'}`}>
                                <i className={`fas fa-arrow-${trend > 0 ? 'up' : 'down'} mr-1`}></i>
                                {Math.abs(trend)}%
                            </div>
                        )}
                    </div>
                    <div>
                        <p className="text-sm font-medium text-gray-600 mb-1">{title}</p>
                        <p className={`text-3xl font-bold ${color} mb-1`}>{value}</p>
                        <p className="text-xs text-gray-500">{description}</p>
                    </div>
                </div>
            );

            // Agent card component with enhanced details
            const AgentCard = ({ agent, onClick }) => {
                const getStatusColor = (status) => {
                    switch (status) {
                        case 'ONLINE': return 'text-green-600 bg-green-100';
                        case 'OFFLINE': return 'text-red-600 bg-red-100';
                        case 'ERROR': return 'text-red-600 bg-red-100';
                        case 'WARNING': return 'text-yellow-600 bg-yellow-100';
                        case 'MAINTENANCE': return 'text-gray-600 bg-gray-100';
                        default: return 'text-gray-600 bg-gray-100';
                    }
                };

                const getPerformanceColor = (value, thresholds) => {
                    if (value >= thresholds.critical) return 'performance-critical';
                    if (value >= thresholds.warning) return 'performance-warning';
                    return 'performance-good';
                };

                return (
                    <div className="bg-white rounded-xl shadow-sm p-6 card-hover border border-gray-100 cursor-pointer" onClick={() => onClick(agent)}>
                        <div className="flex items-center justify-between mb-4">
                            <h3 className="text-lg font-semibold text-gray-800">{agent.name}</h3>
                            <span className={`px-3 py-1 rounded-full text-sm font-medium ${getStatusColor(agent.status)}`}>
                                <StatusIndicator status={agent.status} />
                                {agent.status}
                            </span>
                        </div>
                        
                        <div className="grid grid-cols-2 gap-4 mb-4">
                            <div className="text-center">
                                <p className={`text-2xl font-bold ${getPerformanceColor(agent.cpu_usage, {warning: 70, critical: 85})}`}>
                                    {agent.cpu_usage}%
                                </p>
                                <p className="text-xs text-gray-500">CPU Usage</p>
                            </div>
                            <div className="text-center">
                                <p className={`text-2xl font-bold ${getPerformanceColor(agent.memory_usage, {warning: 75, critical: 90})}`}>
                                    {agent.memory_usage}%
                                </p>
                                <p className="text-xs text-gray-500">Memory</p>
                            </div>
                        </div>
                        
                        <div className="space-y-2 text-sm text-gray-600">
                            <div className="flex justify-between">
                                <span>Response Time:</span>
                                <span className={getPerformanceColor(agent.response_time, {warning: 1000, critical: 2000})}>
                                    {agent.response_time}ms
                                </span>
                            </div>
                            <div className="flex justify-between">
                                <span>Requests/min:</span>
                                <span>{agent.requests_per_minute.toLocaleString()}</span>
                            </div>
                            <div className="flex justify-between">
                                <span>Error Rate:</span>
                                <span className={getPerformanceColor(agent.error_rate * 100, {warning: 2, critical: 5})}>
                                    {(agent.error_rate * 100).toFixed(2)}%
                                </span>
                            </div>
                        </div>
                        
                        <div className="mt-4 flex space-x-2">
                            <button className="flex-1 bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600 transition-colors">
                                <i className="fas fa-chart-line mr-1"></i>
                                Metrics
                            </button>
                            <button className="flex-1 bg-gray-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-gray-600 transition-colors">
                                <i className="fas fa-file-alt mr-1"></i>
                                Logs
                            </button>
                        </div>
                    </div>
                );
            };

            // Alert card component
            const AlertCard = ({ alert }) => {
                const getSeverityStyle = (severity) => {
                    switch (severity) {
                        case 'critical': return 'alert-critical bg-red-50';
                        case 'warning': return 'alert-warning bg-yellow-50';
                        case 'info': return 'alert-info bg-blue-50';
                        default: return 'bg-gray-50';
                    }
                };

                return (
                    <div className={`p-4 rounded-lg mb-3 ${getSeverityStyle(alert.severity)}`}>
                        <div className="flex items-center justify-between mb-2">
                            <h4 className="font-semibold text-gray-800">{alert.title}</h4>
                            <span className={`px-2 py-1 rounded text-xs font-medium ${
                                alert.status === 'active' ? 'bg-red-100 text-red-800' : 'bg-gray-100 text-gray-800'
                            }`}>
                                {alert.status}
                            </span>
                        </div>
                        <p className="text-sm text-gray-600 mb-2">{alert.description}</p>
                        <div className="flex items-center justify-between text-xs text-gray-500">
                            <span>Agent: {alert.agent_id}</span>
                            <span>{new Date(alert.timestamp).toLocaleString()}</span>
                        </div>
                    </div>
                );
            };

            // Overview View
            const OverviewView = () => (
                <div className="space-y-6">
                    {/* System Stats */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <StatsCard
                            title="Total Agents"
                            value={systemStats.totalAgents}
                            icon="fas fa-robot"
                            color="text-blue-600"
                            description="Registered agents"
                            trend={5}
                        />
                        <StatsCard
                            title="Online Agents"
                            value={systemStats.onlineAgents}
                            icon="fas fa-check-circle"
                            color="text-green-600"
                            description="Active and responding"
                            trend={2}
                        />
                        <StatsCard
                            title="Avg Response Time"
                            value={`${systemStats.avgResponseTime}ms`}
                            icon="fas fa-clock"
                            color="text-purple-600"
                            description="System-wide average"
                            trend={-3}
                        />
                        <StatsCard
                            title="System Health"
                            value={`${systemStats.systemHealth}%`}
                            icon="fas fa-heartbeat"
                            color="text-pink-600"
                            description="Overall health score"
                            trend={1}
                        />
                    </div>

                    {/* Charts and Alerts Row */}
                    <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        {/* Performance Chart */}
                        <div className="lg:col-span-2 bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                            <h3 className="text-lg font-semibold text-gray-800 mb-4">
                                <i className="fas fa-chart-area mr-2 text-blue-600"></i>
                                Performance Overview
                            </h3>
                            <div className="metric-chart bg-gray-50 rounded-lg flex items-center justify-center">
                                <p className="text-gray-500">Performance charts will be rendered here</p>
                            </div>
                        </div>

                        {/* Recent Alerts */}
                        <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                            <h3 className="text-lg font-semibold text-gray-800 mb-4">
                                <i className="fas fa-exclamation-triangle mr-2 text-yellow-600"></i>
                                Recent Alerts
                            </h3>
                            <div className="space-y-3 max-h-48 overflow-y-auto">
                                {alerts.slice(0, 5).map(alert => (
                                    <AlertCard key={alert.id} alert={alert} />
                                ))}
                            </div>
                        </div>
                    </div>

                    {/* Agent Status Grid */}
                    <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                        <h3 className="text-lg font-semibold text-gray-800 mb-4">
                            <i className="fas fa-server mr-2 text-green-600"></i>
                            Agent Status Overview
                        </h3>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            {agents.map(agent => (
                                <AgentCard key={agent.id} agent={agent} onClick={setSelectedAgent} />
                            ))}
                        </div>
                    </div>
                </div>
            );

            // Agents View
            const AgentsView = () => (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <h2 className="text-2xl font-bold text-gray-800">Agent Management</h2>
                        <button className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                            <i className="fas fa-plus mr-2"></i>
                            Add Agent
                        </button>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {agents.map(agent => (
                            <AgentCard key={agent.id} agent={agent} onClick={setSelectedAgent} />
                        ))}
                    </div>
                </div>
            );

            // Placeholder views for other sections
            const MetricsView = () => (
                <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <h2 className="text-2xl font-bold text-gray-800 mb-4">System Metrics</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div className="metric-chart bg-gray-50 rounded-lg flex items-center justify-center">
                            <p className="text-gray-500">CPU Usage Chart</p>
                        </div>
                        <div className="metric-chart bg-gray-50 rounded-lg flex items-center justify-center">
                            <p className="text-gray-500">Memory Usage Chart</p>
                        </div>
                        <div className="metric-chart bg-gray-50 rounded-lg flex items-center justify-center">
                            <p className="text-gray-500">Response Time Chart</p>
                        </div>
                        <div className="metric-chart bg-gray-50 rounded-lg flex items-center justify-center">
                            <p className="text-gray-500">Error Rate Chart</p>
                        </div>
                    </div>
                </div>
            );

            const AlertsView = () => (
                <div className="space-y-6">
                    <div className="flex items-center justify-between">
                        <h2 className="text-2xl font-bold text-gray-800">Alert Management</h2>
                        <button className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors">
                            <i className="fas fa-plus mr-2"></i>
                            Create Alert Rule
                        </button>
                    </div>
                    
                    <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                        {alerts.map(alert => (
                            <AlertCard key={alert.id} alert={alert} />
                        ))}
                    </div>
                </div>
            );

            const LogsView = () => (
                <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <h2 className="text-2xl font-bold text-gray-800 mb-4">System Logs</h2>
                    <div className="bg-black text-green-400 p-4 rounded-lg font-mono text-sm h-96 overflow-y-auto">
                        <p>[2025-10-16 22:30:15] INFO: Agent registry initialized</p>
                        <p>[2025-10-16 22:30:16] INFO: Database connection established</p>
                        <p>[2025-10-16 22:30:17] WARN: Agent agent-002 high memory usage detected</p>
                        <p>[2025-10-16 22:30:18] INFO: Metrics collection started</p>
                        <p>[2025-10-16 22:30:19] ERROR: Failed to connect to agent-003</p>
                    </div>
                </div>
            );

            const SettingsView = () => (
                <div className="bg-white rounded-xl shadow-sm p-6 border border-gray-100">
                    <h2 className="text-2xl font-bold text-gray-800 mb-4">System Settings</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h3 className="text-lg font-semibold mb-3">General Settings</h3>
                            <div className="space-y-3">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Refresh Interval</label>
                                    <select className="w-full p-2 border border-gray-300 rounded-lg">
                                        <option>30 seconds</option>
                                        <option>1 minute</option>
                                        <option>5 minutes</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h3 className="text-lg font-semibold mb-3">Alert Settings</h3>
                            <div className="space-y-3">
                                <div className="flex items-center">
                                    <input type="checkbox" className="mr-2" checked />
                                    <label className="text-sm text-gray-700">Email notifications</label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Render current view
            const renderCurrentView = () => {
                switch (currentView) {
                    case 'overview': return <OverviewView />;
                    case 'agents': return <AgentsView />;
                    case 'metrics': return <MetricsView />;
                    case 'alerts': return <AlertsView />;
                    case 'logs': return <LogsView />;
                    case 'settings': return <SettingsView />;
                    default: return <OverviewView />;
                }
            };

            if (loading) {
                return (
                    <div className="flex items-center justify-center min-h-screen">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"></div>
                            <p className="mt-4 text-lg text-gray-600">Loading dashboard...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gray-50">
                    <Sidebar />
                    
                    <div className={`transition-all duration-300 ${sidebarCollapsed ? 'ml-0' : 'ml-280'}`} style={{marginLeft: sidebarCollapsed ? '0' : '280px'}}>
                        <Header />
                        
                        <main className="p-6">
                            {error && (
                                <div className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6">
                                    <span className="block sm:inline">{error}</span>
                                </div>
                            )}
                            
                            {renderCurrentView()}
                        </main>
                    </div>

                    {/* Agent Detail Modal */}
                    {selectedAgent && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-96 overflow-y-auto">
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-xl font-bold">{selectedAgent.name}</h3>
                                    <button 
                                        onClick={() => setSelectedAgent(null)}
                                        className="text-gray-500 hover:text-gray-700"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <p className="text-sm text-gray-600">Agent ID</p>
                                            <p className="font-medium">{selectedAgent.id}</p>
                                        </div>
                                        <div>
                                            <p className="text-sm text-gray-600">Type</p>
                                            <p className="font-medium">{selectedAgent.type}</p>
                                        </div>
                                    </div>
                                    {/* Add more agent details here */}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>